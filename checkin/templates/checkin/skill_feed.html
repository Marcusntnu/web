{% extends 'web/base.html' %}
{% load staticfiles %}
{% load thumbnail %}
{% load checkin_tags %}
{% load i18n %}

{% block head %}
    <link rel="stylesheet" type="text/css" href="{% static "checkin/css/checkin.css" %}"/>
{% endblock %}

{% block body %}
    <div class="ui text container">
        <h2 class="make_col_blue">
            {% trans "People with these skills are at<br>Makerverkstedet right now:" %}
        </h2>

        <div class="ui segment my-segment">
            <div class="ui inline field centering">
                {% for skill, leveltime in skill_dict %}
                    <div class="ui skill-image in-line"
                         data-html="{% include "checkin/skill_feed_popup.html" %}" data-position="right center">
                        {% if skill.image %}
                            {% thumbnail skill.image "64x64" crop="center" as im %}
                                <img class="ui circular image circular-image" src="{{ im.url }}"/>
                            {% endthumbnail %}
                        {% else %}
                            <img class="ui circular image placeholder-skill-image circular-image" width="64"
                                 height="64"
                                 src="{% static "checkin/img/placeholder_skill.svg" %}"/>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>

{% endblock %}

{% block scripts %}
    <script>
        $('.ui.rating').rating();
        $('.rating.skill-lvl').rating('disable');
        $('.skill-image').popup();


        $('.inline.field.centering').scroll(function () {
            var skill_image = $('.skill-image');
            skill_image.popup('hide');

            $.debounce(250, function () {
                $('.skill-image').popup('show');
            })
        });


    </script>
{% endblock %}
